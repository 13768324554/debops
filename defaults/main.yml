---
# .. vim: foldmarker=[[[,]]]:foldmethod=marker

# debops-internal.api default variables [[[
# =========================================
#
# .. contents:: Sections
#    :local:

# DebOps API configuration [[[
# ----------------------------

# .. envvar:: _debops_api__domain [[[
#
# Public domain of the DebOps API.
_debops_api__domain: [ 'api.{{ ansible_domain }}' ]

                                                                   # ]]]

# .. envvar:: _debops_api__root_dir [[[
#
# Root directory of the API data.
# Currently generated by `debops/docs/ <https://github.com/debops/docs/>`_.
_debops_api__root_dir: '/srv/www/sites/docs.debops.org/_static/api'

                                                                   # ]]]
                                                                   # ]]]
# Role-dependent configuration [[[
# --------------------------------

# .. envvar:: _debops_api__nginx__servers [[[
#
# :program:`nginx` server configuration managed by the ``debops-internal.api``
# role.
_debops_api__nginx__servers:

  - by_role: 'debops-internal.api'
    enabled: True
    default: False
    type: 'default'
    name: '{{ _debops_api__domain }}'
    root: '{{ _debops_api__root_dir }}'

    location_list:
      - pattern: '= /robots.txt'
        options: |
          log_not_found off;

      - pattern: '/'
        options: |
          autoindex on;
          default_type text/plain;

# ]]]
# ]]]
# ]]]
