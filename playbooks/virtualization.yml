---

- name: KVM support
  hosts: ginas_kvm
  sudo: yes

  roles:
  - { role: kvm, tags: kvm }
  - { role: nat, tags: nat, nat_subnet: 128, nat_interface: br2 }
  - { role: ginas.dnsmasq, tags: dnsmasq, dnsmasq_subnet: 128, dnsmasq_interface: br2, dnsmasq_domain: 'nat.{{ ansible_fqdn }}' }

- name: LXC support
  hosts: ginas_lxc
  sudo: yes

  roles:
  - { role: lxc, tags: lxc }
  - { role: nat, tags: nat, nat_subnet: 144, nat_interface: br2 }
  - { role: ginas.dnsmasq, tags: dnsmasq, dnsmasq_subnet: 144, dnsmasq_interface: br2, dnsmasq_domain: 'nat.{{ ansible_fqdn }}' }

- name: OpenVZ support
  hosts: ginas_openvz
  sudo: yes

  roles:
    - { role: openvz, tags: openvz }
