---

dependencies:
  - { role: debops.pki, tags: postfix }
  - { role: debops.ferm, tags: postfix }

galaxy_info:
  author: 'Maciej Delmanowski'
  description: 'Install and manage Postfix SMTP Server'
  company: 'DebOps'
  license: 'GNU General Public License v3'
  min_ansible_version: '1.7.0'
  platforms:
  - name: Ubuntu
    versions:
    - precise
    - quantal
    - raring
    - saucy
    - trusty
  - name: Debian
    versions:
    - wheezy
    - jessie
  categories:
  - system

meta_info:
  github_url: "https://github.com/debops/ansible-postfix"
  git_branch: "master"
  galaxy_id: ""

  travis: False

  license_url: 'https://tldrlegal.com/license/gnu-general-public-license-v3-(gpl-3)'

  authors:
    - name:  'Maciej Delmanowski'
      url: ''
      email: 'drybjed@gmail.com'
      twitter: 'drybjed'
      github: 'drybjed'

  synopsis: |
    This role installs and manages [Postfix](http://postfix.org/), an SMTP
    server.
    
    `debops.postfix` role is designed to manage Postfix on different hosts in
    a cluster, with different "capabilities". At the moment role can configure
    Postfix to act as:
    
    * a null client: Postfix sends all mail to another system specified
      either via DNS MX records or an Ansible variable, no local mail is enabled
      (this is the default configuration);
    * a local SMTP server: local mail is delivered to local user accounts;
    * a network SMTP server: network access is enabled separately from other
      capabilities, to avoid exposing misconfigured SMTP server by mistake and
      becoming an open relay;
    * an incoming MX gateway: Postfix will listen on the port 25 (default SMTP
      port) and process connections using `postscreen` daemon with automatic
      greylisting and optional RBL checking;
    
    More "capabilities" like user authentication, support for virtual mail,
    spam/virus filtering and others will be implemented in the future.
    
    This role can also be used as a dependency of other roles which then can
    enable more features of the Postfix SMTP server for their own use. For
    example, `debops.mailman` role enables mail forwarding to the configured
    mailing lists, and `debops.smstools` role uses Postfix as mail-SMS gateway.

