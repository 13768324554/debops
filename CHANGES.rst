Changelog
=========

.. include:: includes/all.rst

**debops.dnsmasq**

This project adheres to `Semantic Versioning <http://semver.org/spec/v2.0.0.html>`__
and `human-readable changelog <http://keepachangelog.com/en/0.3.0/>`__.

The current repository maintainer is drybjed_.


debops.dnsmasq v0.1.0 - unreleased
----------------------------------

Added
~~~~~

- Add Changelog. [drybjed_]

- Add variables to enable / disable ``bogus-priv`` and ``stop-dns-rebind``
  options. These need to be disabled if you want to experiment with multiple
  nested private networks without DNS issues. [drybjed_]

- Allow to use custom upstream nameservers. [ypid_]

- Add :envvar:`dnsmasq__group_options` and :envvar:`dnsmasq__host_options` with
  the same function as ``dnsmasq_options``. [ypid_]

Changed
~~~~~~~

- Change default TFTP root directory to :file:`/srv/tftp/` to be compatible with
  defaults from ``tftpd-hpa`` package. [drybjed_]

- Switch from PXE boot to iPXE boot and drop support for installation of Debian
  Netboot Installer. Custom menu will be handled by a separate role. [drybjed_]

- Use real hostname as the ``A`` record on the gateway interface and point
  ``gw`` ``CNAME`` to it. [drybjed_]

- Create TFTP root directory if not present. [drybjed_]

- Use ``bind-dynamic`` option in newer OSes instead of ``bind-interfaces``,
  this should fix an issue when changes in the network interface topology
  required ``dnsmasq`` to be restarted to listen on new interfaces. [drybjed_]

- Set ``dnsmasq_etc_hosts`` to ``False`` because the :file:`/etc/hosts.dnsmasq`
  files does not exist by default. [ypid_]

Removed
~~~~~~~

- Remove "short subdomain" ``CNAME`` entries generated by Ansible from
  ``dnsmasq`` configuration. These entries may confuse DNS, it's better if
  ``search`` parameter in :file:`/etc/resolv.conf` includes all relevant domains
  and subdomains instead. [drybjed_]

- Remove "short subdomain" ``CNAME`` entries from main ``dnsmasq``
  configuration file. [drybjed_]

- Remove the ``debops_dnsmasq`` Ansible inventory group. Make sure you hosts
  are in ``debops_service_dnsmasq``. [ypid_]

- Remove all of the Ansible role dependencies.

  Configuration of dependent services like firewall, TCP Wrappers is set in
  separate default variables. These variables can be used by the Ansible
  playbooks to configure settings related to ``dnsmasq`` in other services.
  [ypid_]
