{% set core__tpl_facts = {} %}
{% if not core__reset_facts|d(False) %}
{%   if ansible_local|d() and ansible_local.core|d() %}
{%     for key, value in ansible_local.core.iteritems() %}
{%       if key not in core__remove_facts|d([]) %}
{%         set _ = core__tpl_facts.update({ key: value }) %}
{%       endif %}
{%     endfor %}
{%   endif %}
{% endif %}
{% if core__facts|d() %}
{%   for key, value in core__facts.iteritems() %}
{%     if key not in core__remove_facts|d([]) %}
{%       set _ = core__tpl_facts.update({ key: value }) %}
{%     endif %}
{%   endfor %}
{% endif %}
{% if core__group_facts|d() %}
{%   for key, value in core__group_facts.iteritems() %}
{%     if key not in core__remove_facts|d([]) %}
{%       set _ = core__tpl_facts.update({ key: value }) %}
{%     endif %}
{%   endfor %}
{% endif %}
{% if core__host_facts|d() %}
{%   for key, value in core__host_facts.iteritems() %}
{%     if key not in core__remove_facts|d([]) %}
{%       set _ = core__tpl_facts.update({ key: value }) %}
{%     endif %}
{%   endfor %}
{% endif %}
{% set core__tpl_ansible_controllers = [] %}
{% if ansible_local|d() and ansible_local.core|d() and ansible_local.core.ansible_controllers|d() %}
{%   for element in ansible_local.core.ansible_controllers %}
{%     set _ = core__tpl_ansible_controllers.append(element) %}
{%   endfor %}
{% endif %}
{% if core__ansible_controllers|d() %}
{%   for element in core__ansible_controllers %}
{%     set _ = core__tpl_ansible_controllers.append(element) %}
{%   endfor %}
{% endif %}
{% if core__fact_ansible_controller|d() %}
{%   set _ = core__tpl_ansible_controllers.append(core__fact_ansible_controller) %}
{% endif %}
{% if core__tpl_ansible_controllers %}
{%   set _ = core__tpl_facts.update({ "ansible_controllers": core__tpl_ansible_controllers | sort | unique }) %}
{% endif %}
{% if core__keyserver|d() %}
{%   set _ = core__tpl_facts.update({ "keyserver": core__keyserver }) %}
{% endif %}
{% if core__cache_valid_time|d() %}
{%   set _ = core__tpl_facts.update({ "cache_valid_time": core__cache_valid_time }) %}
{% endif %}
{% if core__tpl_facts|d() %}
{{ core__tpl_facts | to_nice_json }}
{% endif %}
