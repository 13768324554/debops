{% set tcpwrappers_tpl_ansible_controllers = [] %}
{% for element in (ansible_local | default([]) and
                   ansible_local.tcpwrappers | default([]) and
                   ansible_local.tcpwrappers.ansible_controllers | default([])) %}
{%     set _ = tcpwrappers_tpl_ansible_controllers.append(element) %}
{% endfor %}
{% for element in tcpwrappers_ansible_controllers or [] %}
{%       set _ = tcpwrappers_tpl_ansible_controllers.append(element) %}
{% endfor %}
{% if ansible_controller is defined and ansible_controller %}
{%     set _ = tcpwrappers_tpl_ansible_controllers.append(ansible_controller) %}
{% endif %}
{
"ansible_controllers": {{ tcpwrappers_tpl_ansible_controllers_result | unique | sort | to_nice_json }}
}
