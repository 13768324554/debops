
## [![DebOps project](http://debops.org/images/debops-small.png)](http://debops.org) ntp



[![Travis CI](http://img.shields.io/travis/debops/ansible-ntp.svg?style=flat)](http://travis-ci.org/debops/ansible-ntp) [![test-suite](http://img.shields.io/badge/test--suite-ansible--ntp-blue.svg?style=flat)](https://github.com/debops/test-suite/tree/master/ansible-ntp/)  [![Ansible Galaxy](http://img.shields.io/badge/galaxy-debops.ntp-660198.svg?style=flat)](https://galaxy.ansible.com/list#/roles/1582) [![Platforms](http://img.shields.io/badge/platforms-debian%20|%20ubuntu-lightgrey.svg?style=flat)](#)






`debops.ntp` role can be used to install [OpenNTPD](http://www.openntpd.org/)
time server which will be used both to synchronize time on a localhost and
serve accurate time information for other hosts (if enabled). This role can
also manage timezone settings using `tzdata` Debian package.

Time server will not be installed in an LXC or OpenVZ container, because
time synchronization in this case is provided by the host operating system.





### Installation

This role requires at least Ansible `v1.7.0`. To install it, run:

    ansible-galaxy install debops.ntp

#### Are you using this as a standalone role without DebOps?

You may need to include missing roles from the [DebOps common
playbook](https://github.com/debops/debops-playbooks/blob/master/playbooks/common.yml)
into your playbook.

[Try DebOps now](https://github.com/debops/debops) for a complete solution to run your Debian-based infrastructure.





### Role dependencies

- `debops.ferm`





### Role variables

List of default variables available in the inventory:

    ---
    
    # Which clock management daemon should be installed? Currently only 'openntpd'
    # is supported. Set to False to disable clock management
    ntp: 'openntpd'
    
    # Timezone configuration
    # This is a two element list:
    #   - first element is the "Area" (Europe, Asia, America, Etc, ...)
    #   - second element is the "Zone" (Warsaw, Tokyo, Chicago, UTC, ...)
    # Run 'dpkg-reconfigure tzdata' to see list of possible values
    # If this variable is empty or False, timezone won't be changed
    ntp_timezone: []
    
    # List of interfaces ntpd should listen on. Specify '*' to listen on all
    # interfaces. If this list is not empty, ntp port will be opened in firewall
    ntp_listen: []
    
    # List of hosts/networks in CIDR format to allow access to ntp port in
    # firewall. If this list is empty, access will be allowed from anywhere. You
    # should probably define a list of networks allowed access to mitigate NTP
    # amplification attacks
    ntp_allow: []
    
    # List of NTP servers to synchronize with
    ntp_servers: [ '0.debian.pool.ntp.org',
                   '1.debian.pool.ntp.org',
                   '2.debian.pool.ntp.org',
                   '3.debian.pool.ntp.org' ]









### Authors and license

`ntp` role was written by:

- Maciej Delmanowski | [e-mail](mailto:drybjed@gmail.com) | [Twitter](https://twitter.com/drybjed) | [GitHub](https://github.com/drybjed)

License: [GPLv3](https://tldrlegal.com/license/gnu-general-public-license-v3-%28gpl-3%29)



***

This role is part of the [DebOps](http://debops.org/) project. README generated by [ansigenome](https://github.com/nickjj/ansigenome/).
